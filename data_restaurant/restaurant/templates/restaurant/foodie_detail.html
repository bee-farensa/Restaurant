{% extends 'restaurant/base.html' %}

{% block content %}
<h2>ğŸ‘¤ Profile: {{ foodie.username }}</h2>

<p><strong>Email:</strong> {{ foodie.email }}</p>
<p><strong>Bergabung:</strong> {{ foodie.waktu|date:"d M Y, H:i" }}</p>
<p><strong>Total Review:</strong> {{ reviews.count }}</p>

<hr>

<h3>â­ Review dari {{ foodie.username }}</h3>

{% if reviews %}
    <ul style="list-style: none; padding: 0;">
        {% for review in reviews %}
        <li style="margin-bottom: 20px; border: 1px solid #ddd; padding: 15px; border-radius: 5px;">
            <strong>
                <a href="{% url 'restaurant_detail' review.restaurant.id %}">{{ review.restaurant.nama }}</a>
            </strong> - 
            <span style="color: orange;">{{ review.rating }}â­</span> - 
            <small>{{ review.waktu_review|date:"d M Y, H:i" }}</small>
            <p>{{ review.komentar }}</p>
            
            <div style="margin-top: 10px;">
                <a href="{% url 'edit_review' review.id %}" 
                   style="padding: 5px 15px; background: blue; color: white; text-decoration: none; border-radius: 3px; font-size: 14px;">
                    âœï¸ Edit
                </a>
                <a href="{% url 'delete_review' review.id %}" 
                   style="padding: 5px 15px; background: red; color: white; text-decoration: none; border-radius: 3px; font-size: 14px;">
                    ğŸ—‘ï¸ Hapus
                </a>
            </div>
        </li>
        {% endfor %}
    </ul>
{% else %}
    <p>{{ foodie.username }} belum membuat review apapun.</p>
{% endif %}

<a href="{% url 'foodie_list' %}">â† Kembali ke Daftar Foodies</a>
{% endblock %}