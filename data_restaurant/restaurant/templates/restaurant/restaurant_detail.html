{% extends 'restaurant/base.html' %}

{% block content %}
<h2>{{ restaurant.nama }}</h2>

<p><strong>ğŸ“ Lokasi:</strong> {{ restaurant.lokasi }}</p>
<p><strong>ğŸ“ Telp:</strong> {{ restaurant.no_telp }}</p>
<p><strong>ğŸ½ï¸ Kategori:</strong> {{ restaurant.get_kategori_display }}</p>
<p>{{ restaurant.deskripsi }}</p>

<a href="{% url 'submit_review' restaurant.id %}" style="display: inline-block; padding: 10px 20px; background: green; color: white; text-decoration: none; border-radius: 5px;">
    âœï¸ Tulis Review
</a>

<hr>

<h3>â­ Reviews ({{ reviews.count }})</h3>

{% if reviews %}
    <ul style="list-style: none; padding: 0;">
        {% for review in reviews %}
        <li style="margin-bottom: 20px; border: 1px solid #ddd; padding: 15px; border-radius: 5px;">
            <strong>
                <a href="{% url 'foodie_detail' review.foodie.id %}">{{ review.foodie.username }}</a>
            </strong> 
            ({{ review.foodie.email }}) - 
            <span style="color: orange;">{{ review.rating }}â­</span> - 
            <small>{{ review.waktu_review|date:"d M Y, H:i" }}</small>
            
            <p>{{ review.komentar }}</p>
            
            <div style="margin-top: 10px;">
                <a href="{% url 'edit_review' review.id %}" 
                   style="padding: 5px 15px; background: blue; color: white; text-decoration: none; border-radius: 3px; font-size: 14px;">
                    âœï¸ Edit
                </a>
                <a href="{% url 'delete_review' review.id %}" 
                   style="padding: 5px 15px; background: red; color: white; text-decoration: none; border-radius: 3px; font-size: 14px;">
                    ğŸ—‘ï¸ Hapus
                </a>
            </div>
        </li>
        {% endfor %}
    </ul>
{% else %}
    <p>Belum ada review. Jadilah yang pertama!</p>
{% endif %}

<a href="{% url 'home' %}">â† Kembali ke Home</a>
{% endblock %}